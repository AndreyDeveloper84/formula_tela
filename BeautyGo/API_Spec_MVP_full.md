
# üìÑ –ü–æ–¥—Ä–æ–±–Ω–∞—è API-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è MVP (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è)

–§–æ—Ä–º–∞—Ç: RESTful API  
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: JWT (Bearer Token)

---

## üîπ 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### POST `/api/auth/register/` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "username": "anna",
  "password": "qwerty123",
  "email": "anna@example.com",
  "phone": "+79161234567",
  "role": "specialist"
}
```

**–û—Ç–≤–µ—Ç:**
- `201 Created` ‚Äî –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `400 Bad Request` ‚Äî –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

### POST `/api/auth/login/` ‚Äî –í—Ö–æ–¥
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email –∏ –ø–∞—Ä–æ–ª—é

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "email": "user@example.com",
  "password": "string"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "access": "jwt_token",
  "refresh": "refresh_token"
}
```

---

### POST `/api/auth/social-login/` ‚Äî OAuth –≤—Ö–æ–¥
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "provider": "google",
  "access_token": "string"
}
```

---

## üîπ 2. –ü—Ä–æ—Ñ–∏–ª—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

### GET `/api/profile/me/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

### PATCH `/api/profile/me/` ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "full_name": "–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞",
  "bio": "–û–ø—ã—Ç 10 –ª–µ—Ç",
  "experience": 10,
  "avatar": "url_–∫_—Ñ–æ—Ç–æ"
}
```

---

## üîπ 3. –£—Å–ª—É–≥–∏

### GET `/api/services/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥
–ü—É–±–ª–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

### POST `/api/services/` ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —É—Å–ª—É–≥—É
**–¢–æ–ª—å–∫–æ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤**

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ú–∞—Å—Å–∞–∂ –ª–∏—Ü–∞",
  "price": 2500,
  "duration": 60,
  "description": "–£–ª—É—á—à–∞–µ—Ç –ª–∏–º—Ñ–æ—Ç–æ–∫"
}
```

### DELETE `/api/services/{id}/` ‚Äî –£–¥–∞–ª–∏—Ç—å —É—Å–ª—É–≥—É

---

## üîπ 4. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

### GET `/api/schedule/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

### POST `/api/schedule/` ‚Äî –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "weekday": 1,
  "start_time": "10:00",
  "end_time": "18:00"
}
```

---

## üîπ 5. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### GET `/api/appointments/available/` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
`?service_id=1&date=2025-06-01`

### POST `/api/appointments/` ‚Äî –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "service_id": 1,
  "datetime": "2025-06-01T12:00:00"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 12,
  "status": "pending"
}
```

### GET `/api/appointments/my/` ‚Äî –ú–æ–∏ –∑–∞–ø–∏—Å–∏ (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞)

### PATCH `/api/appointments/{id}/cancel/` ‚Äî –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏

---

## üîπ 6. –û–ø–ª–∞—Ç–∞

### POST `/api/payments/initiate/` ‚Äî –ù–∞—á–∞—Ç—å –æ–ø–ª–∞—Ç—É
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "appointment_id": 10
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "payment_url": "https://pay.example.com/checkout/123456"
}
```

### POST `/api/payments/webhook/` ‚Äî Webhook –æ—Ç –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:** (–ø—Ä–∏–º–µ—Ä –æ—Ç CloudPayments / –ÆKassa)
```json
{
  "transaction_id": "123456",
  "status": "succeeded",
  "metadata": {
    "appointment_id": 10
  }
}
```

---

## üîπ 7. –ê–¥–º–∏–Ω–∫–∞ (Django Admin)

- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ (`is_verified`)
- –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–æ–ø–ª–∞—Ç—ã)

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:
```
Authorization: Bearer <jwt_token>
```

---

## ‚ùó –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "detail": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:
- `401 Unauthorized` ‚Äî –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –∏–ª–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω
- `403 Forbidden` ‚Äî –Ω–µ—Ç –ø—Ä–∞–≤
- `404 Not Found` ‚Äî –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- `400 Bad Request` ‚Äî –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
